/* Picture - Picture element polyfill for responsive images. Authors & copyright (c) 2013: WebLinc, David Knight. */

(function(a){var l=a.document,d="",m=a.addEventListener||(d="on")&&a.attachEvent,n=a.removeEventListener||a.detachEvent,f=function(){n(d+"load",f);a.Picture.parse()},p=function(c,a){var g=function(b){var a=null;null===c.parentNode&&b.removeListener(g);for(b=0;b<c.pictureMedia.length;b++)c.pictureMedia[b].mql.matches&&(a=c.pictureMedia[b]);a&&(c.pictureImage||(c.pictureImage=l.createElement("img"),c.appendChild(c.pictureImage)),c.pictureImage.src=a.src)};g(a);return g};a.Picture={parse:function(){var a=
l.getElementsByTagName("span"),h=a.length-1,g=h,b=null,d=null,j=0,f=0,k=null,e="",e=null;if(!(0>h)){do if(b=a[g-h],!(null===b.getAttribute("data-picture")||"pictureMedia"in b))if(b.pictureMedia=[],b.pictureImage=b.getElementsByTagName("img")[0],d=b.getElementsByTagName("span"),f=j=d.length-1,!(0>j)){do if(k=d[f-j],(e=k.getAttribute("data-media"))&&window.matchMedia)e=window.matchMedia(e),b.pictureMedia.push({mql:e,src:k.getAttribute("data-src"),img:null}),e.addListener(p(b,e));while(j--)}while(h--)
}}};m(d+"load",f)})(window);