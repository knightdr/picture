/* Picture v2.1.0 - Picture element polyfill for responsive images. Authors & copyright (c) 2013: WebLinc, David Knight. */

(function(c){var m=c.document,j="",n=c.addEventListener||(j="on")&&c.attachEvent,p=c.removeEventListener||c.detachEvent,k=function(){p(j+"load",k);c.Picture.parse()},q=function(a){return function(){for(var d=null,c=null!==a.parentNode,b=a.pictureSource.length,g=0;g<b;g++){var e=a.pictureSource[g];c?e.mql.matches&&(d=e):e.mql.removeListener(e.mqlListener)}d&&c?a.pictureImage?(a.pictureImage.src=d.src,a.pictureImage.style.display=""):(a.pictureImage=m.createElement("img"),a.pictureImage.alt=a.pictureAlt,
a.appendChild(a.pictureImage),a.pictureImage.src=d.src):!d&&a.pictureImage&&(a.pictureImage.style.display="none")}};c.Picture={parse:function(){var a=m.getElementsByTagName("span"),d=a.length-1,j=d,b=null,g=null,e=0,k=0,h=null,f="",h="",l=f=null;if(!(0>d)){do if(b=a[j-d],!(null===b.getAttribute("data-picture")||"pictureSource"in b))if(b.pictureSource=[],b.pictureImage=b.getElementsByTagName("img")[0],b.pictureAlt=b.getAttribute("data-alt")||"picture",g=b.getElementsByTagName("span"),k=e=g.length-
1,!(0>e)){do h=g[k-e],f=h.getAttribute("data-media"),h=h.getAttribute("data-src"),f&&(h&&c.matchMedia)&&(f=c.matchMedia(f),l=q(b,f),b.pictureSource.push({mql:f,mqlListener:l,src:h}),l(f),f.addListener(l));while(e--)}while(d--)}}};n(j+"load",k)})(window);